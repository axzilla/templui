(()=>{(function(){function i(t){let e=t.querySelector("[data-avatar-image]"),a=t.querySelector("[data-avatar-fallback]");if(e&&a){e.style.display="none",a.style.display="none";let l=()=>{e.style.display="none",a.style.display=""},o=()=>{e.style.display="",a.style.display="none"};e.complete?e.naturalWidth>0&&e.naturalHeight>0?o():l():(e.addEventListener("load",o,{once:!0}),e.addEventListener("error",l,{once:!0}),setTimeout(()=>{e.complete&&!(e.naturalWidth>0&&e.naturalHeight>0)&&l()},50))}else a?a.style.display="":e&&(e.style.display="")}function n(t=document){t instanceof Element&&t.matches("[data-avatar]")&&i(t);for(let e of t.querySelectorAll("[data-avatar]"))i(e)}let s=t=>{let e=t.detail.elt;e instanceof Element&&requestAnimationFrame(()=>n(e))};n(),document.addEventListener("DOMContentLoaded",()=>n()),document.body.addEventListener("htmx:afterSwap",s),document.body.addEventListener("htmx:oobAfterSwap",s)})();})();
