(function(){function i(t){const e=document.getElementById(t);e&&e.tagName==="DIALOG"&&(e.showModal(),e.classList.remove("modal-closing"),e.offsetHeight,e.classList.add("modal-opening"))}function l(t){const e=document.getElementById(t);e&&e.tagName==="DIALOG"&&e.open&&(e.classList.remove("modal-opening"),e.classList.add("modal-closing"),setTimeout(()=>{e.close(),e.classList.remove("modal-closing")},300))}function d(t){const o=t.currentTarget.dataset.modalTargetId;o?i(o):console.warn("Modal trigger is missing data-modal-target-id attribute")}function s(t){const e=t.currentTarget,o=e.dataset.modalTargetId;if(o)l(o);else{const n=e.closest("dialog[data-modal]");n&&l(n.id)}}function c(t){const e=t.currentTarget,o=e.getBoundingClientRect();o.top<=t.clientY&&t.clientY<=o.top+o.height&&o.left<=t.clientX&&t.clientX<=o.left+o.width||e.dataset.disableClickAway==="true"||l(e.id)}function g(t){if(t.key==="Escape"){const e=document.querySelectorAll("dialog[data-modal][open]");if(e.length>0){const o=e[e.length-1];o.dataset.disableEsc==="true"||(t.preventDefault(),l(o.id))}}}function r(t=document){t.querySelectorAll("[data-modal-trigger]").forEach(a=>{a.removeEventListener("click",d),a.addEventListener("click",d)}),t.querySelectorAll("[data-modal-close]").forEach(a=>{a.removeEventListener("click",s),a.addEventListener("click",s)}),t.querySelectorAll("dialog[data-modal]").forEach(a=>{a.removeEventListener("click",c),a.addEventListener("click",c)})}const m=t=>{let e;t.type==="htmx:afterSwap"&&(e=t.detail.elt),t.type==="htmx:oobAfterSwap"&&(e=t.detail.target),e instanceof Element&&requestAnimationFrame(()=>r(e))};window.openModal=i,window.closeModal=l,document.addEventListener("DOMContentLoaded",()=>r()),document.addEventListener("keydown",g),document.body.addEventListener("htmx:afterSwap",m),document.body.addEventListener("htmx:oobAfterSwap",m)})();
